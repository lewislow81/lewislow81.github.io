<global-mobile-menu>

  <y class="xs:block sm:hidden md:hidden lg:hidden 2k:hidden w-screen">
    <y class="h-24 p-2 bg-charcoal-400 shadow-lg">

      <y class="flex flex-row justify-around items-center">
        <y each="{ data in menu }">

          <y class="-mt-1 p-4 text-gray-600 hover:text-gray-100 text-center">
            <a href="{ data.url }"
               title="{ data.title }"
               rel="noopenner">
              <i class="{ data.icon } text-2xl"></i>
            </a>
          </y>

        </y>
      </y>

    </y>
  </y>


  <script>
    log('~/global/mobile-menu.~', '')

    export default {
      onMounted() {

        const self = this
        self.menu = []

        const base = 'assets/data'
        const url = base + '/mobile-menu.json'

        fetch(url)
          .then(res => {
            res.json()
              .then(data => {
                delete self.error
                self.menu = data
                self.update()
              })
              .catch(error => {
                self.error = error
                self.update()
              })
          })

      }
    }
  </script>

</global-mobile-menu>
