<card-project-promos><y class="px-2 pb-4 text-md text-red-400" if="{ error }">Data is missing.</y><y class="js-scroll-reveal xs:px-4 xs:py-0 sm:px-8 md:px-8 flex flex-wrap xs:justify-start md:justify-start xs:items-center"><y each="{ data in projects }"><y class="xs:max-w-full sm:max-w-full md:max-w-md 2k:max-w-xl m-2 rounded-lg shadow overflow-hidden cursor-pointer"><y class="relative"><img class="adaptive h-auto w-full object-contain object-center overflow-hidden rounded-lg" src="{ data.imagelow }" data-src="{ data.imagehigh }" alt="{ data.title}"><y class="absolute left-0 bottom-0 h-full w-full text-transparent hover:text-white hover:bg-charcoal-600 fx-fade-in-out"><y class="absolute right-0 bottom-0"><y class="flex justify-center items-center xs:p-0 md:p-4"><icon-platform imagelow="{ data.icon1low }" imagehigh="{ data.icon1high }" padding="{ data.icon1Padding }" visibility="{ data.icon1Visibility }"></icon-platform><icon-platform imagelow="{ data.icon2low }" imagehigh="{ data.icon2high }" padding="{ data.icon2Padding }" visibility="{ data.icon2Visibility }"></icon-platform></y></y><y class="xs:p-4 sm:p-10 md:p-8"><y class="flex flex-col justify-around items-start"><y class="xs:text-sm sm:text-xl md:text-lg 2k:text-2xl font-semibold depth-loose pb-2">{ data.title }</y><y class="xs:text-xs sm:text-lg md:text-sm 2k:text-xl depth-snug pb-3"><misc-show-more inputid="{ data.id }" content="{ data.desc }" labelid="{ data.id }"></misc-show-more></y><y class="{ data.urlVisibility } xs:text-xs sm:text-lg md:text-sm 2k:text-xl depth-loose pb-2"><a class="hover:text-orange-700" href="{ data.url }" title="{ data.urlText }" aria-label="{ data.urlText }" target="_blank" rel="noopener">{ data.PromoText } <strong class="pl-1">{ data.urlText }</strong></a></y><y class="xs:text-xs sm:text-md md:text-xs 2k:text-lg hover:text-orange-600 depth-loose">{ data.tech}</y></y></y></y></y></y></y></y><script>log('~/card/project-promos.~', '')

    export default {
      onMounted() {

        const self = this
        self.projects = []

        const base = './assets/data'
        const url = base + '/project-promos.json'

        fetch(url)
          .then(res => {
            res.json()
              .then(data => {
                delete self.error
                if (isMobile.any()) { // item x limit for mobile device
                  data.splice(4,1) // remove `elixir` from array
                  data.splice(-2,2) // remove `overloadproject` from array
                  data.length = 3
                  self.projects = data
                  self.update()
                }
                else {
                  data.splice(4,1) // remove `elixir` from array
                  data.splice(8,1) // remove `eizo-rewire-n` from array
                  data.splice(-2,2) // remove `overloadproject` from array
                  self.projects = data
                  self.update()
                }
                log('~/card/project-promos.~', data)
              })
              .catch(error => {
                self.error = error
                self.update()
              })

          })

      },
      onUpdated() {

        // lazyload low-res, hi-res image
        krunch.adaptiveImageLoader()

        // see `assets/js/components/_scroll_reveal.js`
        ScrollReveal().reveal('.js-scroll-reveal')

      }
    }</script></card-project-promos>