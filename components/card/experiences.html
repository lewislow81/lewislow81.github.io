<card-experiences><y class="flex flex-wrap justify-start items-stretch"><y class="flex-auto relative xs:max-w-lg sm:max-w-xl md:max-w-xs 2k:max-w-md m-2 bg-white rounded-lg shadow" each="{ work in experiences }"><y class="xs:block sm:block md:block static flex justify-center items-center"><y class="z-10 hover:absolute top-0 left-0 hover:bg-charcoal-400 w-full h-full overflow-hidden"><y class="flex hover:flex-col justify-start items-center cursor-pointer"><y><img class="adaptive pop-image-experiences h-24 2k:h-32 hover:h-48 w-full object-cover object-center" src="{ work.preview1low }" data-src="{ work.preview1high }" alt="{ work.previewTitle1 }"></y><y><img class="adaptive pop-image-experiences h-24 2k:h-32 hover:h-48 w-full object-cover object-center" src="{ work.preview2low }" data-src="{ work.preview2high }" alt="{ work.previewTitle2 }"></y><y><img class="adaptive pop-image-experiences h-24 2k:h-32 hover:h-48 w-full object-cover object-center" src="{ work.preview3low }" data-src="{ work.preview3high }" alt="{ work.previewTitle3 }"></y></y></y></y><y class="p-5"><y class="pb-1 flex justify-between items-center"><y class="text-lg 2k:text-2xl xs:truncate font-semibold depth-loose cursor-pointer" title="{ work.company }">{ work.company }</y><y class="text-sm 2k:text-lg text-gray-700 xs:truncate font-sans depth-loose cursor-pointer" title="{ work.date }">{ work.date }</y></y><y class="-mt-2 pb-2 text-sm 2k:text-md text-gray-600 font-oswald">{ work.position }</y><y class="pb-3 text-sm 2k:text-lg depth-snug"><input type="checkbox" id="{ work.id }"> <span>{ work.desc } </span><label class="text-xs font-semibold underline opacity-75 hover:opacity-100 cursor-pointer" for="{ work.id }" role="button">show more</label></y><y class="pb-8 flex justify-start items-center"><y class="px-2 py-0 mr-2 text-xs 2k:text-md lowercase xs:truncate bg-gray-300 rounded-full">{ work.status1 }</y><y class="px-2 py-0 mr-2 text-xs 2k:text-md lowercase xs:truncate bg-gray-300 rounded-full">{ work.status2 }</y><y class="px-2 py-0 mr-2 text-xs 2k:text-md lowercase xs:truncate bg-gray-300 rounded-full">{ work.location }</y></y></y><y class="absolute left-0 bottom-0"><y class="p-2 text-sm 2k:text-md font-oswald uppercase text-white bg-charcoal-100 border-2 border-white rounded-lg">Project { work.project }</y></y></y></y><style>.font-oswald {
      font-family: Oswald, sans-serif;
    }
    /* for truncate `show more` button */
    span {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    input {
      opacity: 0;
      position: absolute;
      pointer-events: none;
    }
    input:focus~label {
      outline: -webkit-focus-ring-color auto 5px;
    }

    input:checked+span {
      -webkit-line-clamp: unset;
    }

    input:checked~label {
      display: none;
    }
    /* for truncate `show more` button */</style><script>log('~/card/experiences.~', '')

    export default {
      onMounted() {

        const self = this
        self.experiences = []

        const base = './assets/data'
        const url = base + '/experiences.json'

        fetch(url)
          .then(res => {
            res.json()
              .then(data => {
                delete self.error
                self.experiences = data
                self.update()
                log('~/card/experiences.~', data)
              })
          })
          .catch(error => {
            self.error = error
            self.update()
          })

      },
      onUpdated() {

        // see `assets/js/components/_image_popper.js`
        popup.imageTouchDevice('.pop-image-experiences')

        // lazyload low-res, hi-res image
        krunch.adaptiveImageLoader()

      }
    }</script></card-experiences>