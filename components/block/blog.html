<block-blog><y class="py-4" id="blog"><y class="md:px-10 md-h-full"><y class="xs:text-center sm:text-left md:text-left xs:pb-0"><text-heading title="Blog" size="3xl 2k:text-4xl" padding="10"></text-heading></y><y class="xs:px-4 xs:py-0 sm:px-8 md:px-8"><y class="hidden px-2 text-md text-red-400" if="{ error }">Data is missing.</y><y class="flex flex-wrap xs:justify-start md:justify-start xs:items-start md:items-start"><y each="{ data in posts }"><card-blog-posts inputid="{ data.id }" labelid="{ data.id }" url="{ data.url }" urloption="{ data.urloption }" imagelow="{ data.imagelow }" imagehigh="{ data.imagehigh }" imageheight="auto" popimageid="pop-image-latest" imagecaption="{ data.content }" content="{ data.content }" date="{ data.date }" xsscreen="md" smscreen="full" mdscreen="xs"></card-blog-posts></y></y><y id="snickerBlogBtn"><button-ultra url="/blog.html" text="More" tooltip="Read more of my stories" option="_self"></button-ultra></y></y></y></y><style>:host {
      font-family: Poppins, Sans-Serif;
    }
    /* color enhance */
    img {
      -webkit-filter: saturate(1.36) contrast(1) brightness(1) blur(0)
    }</style><script>log('~/block/blog.~', '')

    export default {
      onMounted() {

        const message = 'Hang on, taking you to my development stories...'
        snicker.onClick('snickerBlogBtn', message, 5000)

        const self = this
        self.posts = []

        const base = './assets/data'
        const url = base + '/posts/2020.json'

        fetch(url)
          .then(res => {
            res.json()
              .then(data => {
                delete self.error
                if (isMobile.any()) { // item x limit for mobile device
                  data.length = 3
                  self.posts = data
                  self.update()
                }
                else {
                  data.length = 5
                  self.posts = data
                  self.update()
                }
                log('~/block/blog.~', data)
              })
              .catch(error => {
                self.error = error
                self.update()
              })
          })

      },
      onUpdated() {

        // see `assets/js/components/_image_popper.js`
        popup.imageTouchDevice('.pop-image-latest')

        // lazyload low-res, hi-res image
        krunch.adaptiveImageLoader()

      }
    }</script></block-blog>