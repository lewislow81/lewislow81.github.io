<global-mobile-blog-menu>

  <y class="xs:block sm:hidden md:hidden lg:hidden 2k:hidden w-screen">
    <y class="h-24 p-2 bg-charcoal-300 shadow-lg">

      <y class="my-1 flex flex-row justify-center items-center">
        <y each="{ data in menu }">

          <y class="-mt-2 p-3 text-center hover:bg-blue-800 rounded">

            <a href="{ data.url }"
               title="{ data.title }"
               rel="noopener">
              <img class="adaptive invert-color h-8 w-8 object-contain object-center opacity-75 hover:opacity-75"
                   src="{ data.iconlow }"
                   data-src="{ data.iconhigh }"
                   alt="{ data.title }">
            </a>

          </y>

        </y>
      </y>

    </y>
  </y>


  <style>
    .invert-color {
      filter: invert(1.0);
    }
  </style>


  <script>
    log('~/global/mobile-blog-menu.~', '')

    export default {
      onMounted() {

        const self = this
        self.menu = []

        const base = 'assets/data'
        const url = base + '/mobile-blog-menu.json'

        fetch(url)
          .then(res => {
            res.json()
              .then(data => {
                delete self.error
                self.menu = data
                self.update()
                krunch.adaptiveImageLoader()
              })
              .catch(error => {
                self.error = error
                self.update()
              })
          })

      }
    }
  </script>

</global-mobile-blog-menu>
